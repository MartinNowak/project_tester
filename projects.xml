<?xml version='1.0' encoding='UTF-8'?>
<matrix-project plugin="matrix-project@1.6">
  <actions/>
  <description></description>
  <keepDependencies>false</keepDependencies>
  <properties>
    <hudson.model.ParametersDefinitionProperty>
      <parameterDefinitions>
        <hudson.plugins.matrix__configuration__parameter.MatrixCombinationsParameterDefinition plugin="matrix-combinations-parameter@1.0.9">
          <name>filter</name>
          <description></description>
        </hudson.plugins.matrix__configuration__parameter.MatrixCombinationsParameterDefinition>
      </parameterDefinitions>
    </hudson.model.ParametersDefinitionProperty>
  </properties>
  <scm class="hudson.scm.NullSCM"/>
  <canRoam>true</canRoam>
  <disabled>false</disabled>
  <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
  <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
  <triggers>
    <jenkins.triggers.ReverseBuildTrigger>
      <spec></spec>
      <upstreamProjects>DPL,</upstreamProjects>
      <threshold>
        <name>SUCCESS</name>
        <ordinal>0</ordinal>
        <color>BLUE</color>
        <completeBuild>true</completeBuild>
      </threshold>
    </jenkins.triggers.ReverseBuildTrigger>
  </triggers>
  <concurrentBuild>false</concurrentBuild>
  <axes>
    <hudson.matrix.TextAxis>
      <name>REPO</name>
      <values>
        <string>D-Programming-Language/dub</string>
        <string>D-Programming-Language/dub-registry</string>
        <string>Dav1dde/gl3n</string>
        <string>Dgame/Dgame</string>
        <string>DlangScience/dstats</string>
        <string>DlangScience/scid</string>
        <string>Hackerpilot/DCD</string>
        <string>Hackerpilot/Dscanner</string>
        <string>Hackerpilot/dfix</string>
        <string>Hackerpilot/dfmt</string>
        <string>Hackerpilot/libdparse</string>
        <string>Jebbs/DSFML</string>
        <string>MyLittleRobo/inilike</string>
        <string>PhilippeSigaud/Pegged</string>
        <string>atilaneves/cerealed</string>
        <string>atilaneves/unit-threaded</string>
        <string>buggins/dlangui</string>
        <string>d-gamedev-team/gfm</string>
        <string>eBookingServices/mysql-lited</string>
        <string>gecko0307/dlib</string>
        <string>gtkd-developers/GtkD</string>
        <string>higgsjs/Higgs</string>
        <string>kiith-sa/D-YAML</string>
        <string>kiith-sa/tharsis.prof</string>
        <string>kyllingstad/zmqd</string>
        <string>lgvz/imageformats</string>
        <string>msgpack/msgpack-d</string>
        <string>msoucy/dproto</string>
        <string>nomad-software/dunit</string>
        <string>p0nce/ae-graphics</string>
        <string>p0nce/binrange</string>
        <string>p0nce/dplug</string>
        <string>rejectedsoftware/vibe.d</string>
        <string>s-ludwig/std_data_json</string>
        <string>s-ludwig/taggedalgebraic</string>
        <string>yamadapc/d-colorize</string>
        <string>yazd/backtrace-d</string>
      </values>
    </hudson.matrix.TextAxis>
  </axes>
  <builders>
    <hudson.tasks.Shell>
      <command>set -o pipefail

DPL=/var/lib/jenkins/jobs/DPL/workspace
export DMD=${DPL}/dmd/src/dmd
export DC=${DMD}

git clone --recursive --depth=1 git://github.com/$REPO.git .
git log

# export PATH to override default dmd
export PATH=&quot;$(dirname ${DMD}):$PATH&quot;
export LD_LIBRARY_PATH=&quot;$DPL/phobos/generated/linux/release/64/:$LD_LIBRARY_PATH&quot;
# zeromq-4.1.3, dsfml-c
export PKG_CONFIG_PATH=&quot;/usr/local/lib/pkgconfig:$PKG_CONFIG_PATH&quot;
export LIBRARY_PATH=&quot;/usr/local/lib:$LIBRARY_PATH&quot;
export LD_LIBRARY_PATH=&quot;/usr/local/lib:$LD_LIBRARY_PATH&quot;

case $REPO in
	# makefile projects w/o .travis.yml
	Hackerpilot/DCD|Hackerpilot/dfix)
		make DMD=${DMD}
		;;
	gtkd-developers/GtkD)
		make test DC=${DC}
		;;
    # default dub projects w/o .travis.yml
	kyllingstad/zmqd|Dgame/Dgame|PhilippeSigaud/Pegged|\
	eBookingServices/mysql-lited|gecko0307/dlib|yazd/backtrace-d|\
	lgvz/imageformats|s-ludwig/taggedalgebraic)
		dub test --compiler=${DC}
		;;
	# matrix build for vibe.d
	rejectedsoftware/vibe.d)
		VIBED_DRIVER=libevent BUILD_EXAMPLE=1 RUN_TEST=1 ./travis-ci.sh
		VIBED_DRIVER=libev BUILD_EXAMPLE=0 RUN_TEST=0 ./travis-ci.sh
		VIBED_DRIVER=libasync BUILD_EXAMPLE=0 RUN_TEST=0 ./travis-ci.sh
		;;
	# .travis.yml
	*)
		ruby &lt;&lt;- EOF | /bin/sh -sexo pipefail
			require &apos;yaml&apos;
			puts YAML.load_file(&apos;.travis.yml&apos;)[&apos;script&apos;] || &apos;dub test --compiler=${DC}&apos;
		EOF
		;;
esac
</command>
    </hudson.tasks.Shell>
  </builders>
  <publishers>
    <hudson.plugins.ws__cleanup.WsCleanup plugin="ws-cleanup@0.28">
      <deleteDirs>false</deleteDirs>
      <skipWhenFailed>false</skipWhenFailed>
      <cleanWhenSuccess>true</cleanWhenSuccess>
      <cleanWhenUnstable>true</cleanWhenUnstable>
      <cleanWhenFailure>true</cleanWhenFailure>
      <cleanWhenNotBuilt>true</cleanWhenNotBuilt>
      <cleanWhenAborted>true</cleanWhenAborted>
      <notFailBuild>false</notFailBuild>
      <cleanupMatrixParent>false</cleanupMatrixParent>
      <externalDelete></externalDelete>
    </hudson.plugins.ws__cleanup.WsCleanup>
  </publishers>
  <buildWrappers/>
  <executionStrategy class="hudson.matrix.DefaultMatrixExecutionStrategyImpl">
    <runSequentially>false</runSequentially>
  </executionStrategy>
</matrix-project>
